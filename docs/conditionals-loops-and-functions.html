<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 2 Conditionals, Loops, and Functions | MA-500: Introduction to R</title>
<meta name="author" content="Regina-Mae Dominguez - Fall 2024">
<meta name="generator" content="bookdown 0.40 with bs4_book()">
<meta property="og:title" content="Chapter 2 Conditionals, Loops, and Functions | MA-500: Introduction to R">
<meta property="og:type" content="book">
<meta property="og:image" content="/images/cover.png">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 2 Conditionals, Loops, and Functions | MA-500: Introduction to R">
<meta name="twitter:image" content="/images/cover.png">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.8.0/transition.js"></script><script src="libs/bs3compat-0.8.0/tabs.js"></script><script src="libs/bs3compat-0.8.0/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<meta name="description" content="In certain situations, you may need to control the flow and logic of your code. One approach is to make sections of the code conditional or use loops to repeat specific sections multiple times. ...">
<meta property="og:description" content="In certain situations, you may need to control the flow and logic of your code. One approach is to make sections of the code conditional or use loops to repeat specific sections multiple times. ...">
<meta name="twitter:description" content="In certain situations, you may need to control the flow and logic of your code. One approach is to make sections of the code conditional or use loops to repeat specific sections multiple times. ...">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <img id="cover" class="d-none d-lg-block" src="images/cover-small.png"><br><h1>
        <a href="index.html" title="">MA-500: Introduction to R</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">MA-500: Introduction to R</a></li>
<li><a class="" href="rrstudio-installation-guide.html">R/RStudio Installation Guide</a></li>
<li><a class="" href="r-scriptscode.html">R-Scripts/Code</a></li>
<li><a class="" href="r-basics-and-fundamentals.html"><span class="header-section-number">1</span> R Basics and Fundamentals</a></li>
<li><a class="active" href="conditionals-loops-and-functions.html"><span class="header-section-number">2</span> Conditionals, Loops, and Functions</a></li>
<li><a class="" href="introduction-to-dataframes-ggplot2.html"><span class="header-section-number">3</span> Introduction to Dataframes &amp; ggplot2</a></li>
<li><a class="" href="data-visualizations.html"><span class="header-section-number">4</span> Data Visualizations</a></li>
<li><a class="" href="statistics.html"><span class="header-section-number">5</span> Statistics</a></li>
<li><a class="" href="probability.html"><span class="header-section-number">6</span> Probability</a></li>
<li><a class="" href="hypothesis-testing.html"><span class="header-section-number">7</span> Hypothesis Testing</a></li>
<li><a class="" href="useful-tips.html">Useful Tips</a></li>
</ul>

        <div class="book-extra">
          
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="conditionals-loops-and-functions" class="section level1" number="2">
<h1>
<span class="header-section-number">2</span> Conditionals, Loops, and Functions<a class="anchor" aria-label="anchor" href="#conditionals-loops-and-functions"><i class="fas fa-link"></i></a>
</h1>
<p>In certain situations, you may need to control the flow and logic of your code. One approach is to make sections of the code <code>conditional</code> or use <code>loops</code> to repeat specific sections multiple times.</p>
<div id="if-else-statement" class="section level3" number="2.0.1">
<h3>
<span class="header-section-number">2.0.1</span> If-else statement<a class="anchor" aria-label="anchor" href="#if-else-statement"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb83-1"><a href="conditionals-loops-and-functions.html#cb83-1" tabindex="-1"></a><span class="co"># simple if else</span></span>
<span id="cb83-2"><a href="conditionals-loops-and-functions.html#cb83-2" tabindex="-1"></a><span class="cf">if</span> (condition) {</span>
<span id="cb83-3"><a href="conditionals-loops-and-functions.html#cb83-3" tabindex="-1"></a>  do <span class="cf">if</span> <span class="cn">TRUE</span></span>
<span id="cb83-4"><a href="conditionals-loops-and-functions.html#cb83-4" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb83-5"><a href="conditionals-loops-and-functions.html#cb83-5" tabindex="-1"></a>  do <span class="cf">if</span> <span class="cn">FALSE</span></span>
<span id="cb83-6"><a href="conditionals-loops-and-functions.html#cb83-6" tabindex="-1"></a>}</span>
<span id="cb83-7"><a href="conditionals-loops-and-functions.html#cb83-7" tabindex="-1"></a></span>
<span id="cb83-8"><a href="conditionals-loops-and-functions.html#cb83-8" tabindex="-1"></a><span class="co"># extension of if else</span></span>
<span id="cb83-9"><a href="conditionals-loops-and-functions.html#cb83-9" tabindex="-1"></a><span class="cf">if</span> (condition) {</span>
<span id="cb83-10"><a href="conditionals-loops-and-functions.html#cb83-10" tabindex="-1"></a>  do something</span>
<span id="cb83-11"><a href="conditionals-loops-and-functions.html#cb83-11" tabindex="-1"></a>} <span class="cf">else</span> <span class="cf">if</span> (condition2) {</span>
<span id="cb83-12"><a href="conditionals-loops-and-functions.html#cb83-12" tabindex="-1"></a>  do something </span>
<span id="cb83-13"><a href="conditionals-loops-and-functions.html#cb83-13" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb83-14"><a href="conditionals-loops-and-functions.html#cb83-14" tabindex="-1"></a>  do this instead</span>
<span id="cb83-15"><a href="conditionals-loops-and-functions.html#cb83-15" tabindex="-1"></a>}</span></code></pre></div>
</div>
<div id="defining-a-function" class="section level3" number="2.0.2">
<h3>
<span class="header-section-number">2.0.2</span> Defining a Function<a class="anchor" aria-label="anchor" href="#defining-a-function"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="conditionals-loops-and-functions.html#cb84-1" tabindex="-1"></a><span class="co">#'</span></span>
<span id="cb84-2"><a href="conditionals-loops-and-functions.html#cb84-2" tabindex="-1"></a><span class="co">#' purpose of this function</span></span>
<span id="cb84-3"><a href="conditionals-loops-and-functions.html#cb84-3" tabindex="-1"></a><span class="co">#'</span></span>
<span id="cb84-4"><a href="conditionals-loops-and-functions.html#cb84-4" tabindex="-1"></a><span class="co">#' @param arg1 define arg1</span></span>
<span id="cb84-5"><a href="conditionals-loops-and-functions.html#cb84-5" tabindex="-1"></a><span class="co">#' @param arg2 define arg2</span></span>
<span id="cb84-6"><a href="conditionals-loops-and-functions.html#cb84-6" tabindex="-1"></a><span class="co">#'</span></span>
<span id="cb84-7"><a href="conditionals-loops-and-functions.html#cb84-7" tabindex="-1"></a><span class="co">#' @return description </span></span>
<span id="cb84-8"><a href="conditionals-loops-and-functions.html#cb84-8" tabindex="-1"></a>function_name <span class="ot">&lt;-</span> <span class="cf">function</span>(arg1, arg2, ...) {</span>
<span id="cb84-9"><a href="conditionals-loops-and-functions.html#cb84-9" tabindex="-1"></a>  write code here</span>
<span id="cb84-10"><a href="conditionals-loops-and-functions.html#cb84-10" tabindex="-1"></a>  </span>
<span id="cb84-11"><a href="conditionals-loops-and-functions.html#cb84-11" tabindex="-1"></a>  <span class="fu">return</span>(returned_object)</span>
<span id="cb84-12"><a href="conditionals-loops-and-functions.html#cb84-12" tabindex="-1"></a>}</span></code></pre></div>
</div>
<div id="recursive-function" class="section level3" number="2.0.3">
<h3>
<span class="header-section-number">2.0.3</span> Recursive Function<a class="anchor" aria-label="anchor" href="#recursive-function"><i class="fas fa-link"></i></a>
</h3>
<p>A recursive function is a function that calls itself to solve smaller instances of the same problem. It’s particularly useful for tasks that can be broken down into simpler, repetitive sub-tasks,</p>
<div id="factorials" class="section level4" number="2.0.3.1">
<h4>
<span class="header-section-number">2.0.3.1</span> Factorials<a class="anchor" aria-label="anchor" href="#factorials"><i class="fas fa-link"></i></a>
</h4>
<p>For example, if you wanted to calculate the <code>factorial</code> of a non-negative integer <code>n</code>,</p>
<p><span class="math display">\[
n! = n × (n - 1) × (n - 2) × ... × 2 × 1
\]</span></p>
<div class="sourceCode" id="cb85"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">factorial_recursive</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">n</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="va">n</span> <span class="op">==</span> <span class="fl">0</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span>  <span class="co"># Base case: factorial of 0 is 1</span></span>
<span>    <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>        <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="va">n</span> <span class="op">*</span> <span class="fu">factorial_recursive</span><span class="op">(</span><span class="va">n</span> <span class="op">-</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span>  <span class="co"># Recursive case</span></span>
<span>    <span class="op">}</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>Note: <code>R</code> already has a base function <code>factorial</code>.</p>
</div>
</div>
<div id="creating-a-for-loop" class="section level3" number="2.0.4">
<h3>
<span class="header-section-number">2.0.4</span> Creating a for loop<a class="anchor" aria-label="anchor" href="#creating-a-for-loop"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="conditionals-loops-and-functions.html#cb86-1" tabindex="-1"></a><span class="cf">for</span> (loopindex <span class="cf">in</span> vector) {</span>
<span id="cb86-2"><a href="conditionals-loops-and-functions.html#cb86-2" tabindex="-1"></a>  do this</span>
<span id="cb86-3"><a href="conditionals-loops-and-functions.html#cb86-3" tabindex="-1"></a>}</span></code></pre></div>
</div>
<div id="case-study" class="section level3" number="2.0.5">
<h3>
<span class="header-section-number">2.0.5</span> Case Study<a class="anchor" aria-label="anchor" href="#case-study"><i class="fas fa-link"></i></a>
</h3>
<p>We’ll start with analyzing registered voter data in Guam from 1990 to 2020 (taken from the Guam Statistical Yearbook).</p>
<div class="inline-figure"><img src="images/clipboard-2405429103.png" width="470"></div>
<div class="sourceCode" id="cb87"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">year</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span>from <span class="op">=</span> <span class="fl">2020</span>, to <span class="op">=</span> <span class="fl">1990</span>, by <span class="op">=</span> <span class="op">-</span><span class="fl">2</span><span class="op">)</span></span>
<span><span class="va">failed_to_vote</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">47.4</span>, <span class="fl">33.2</span>, <span class="fl">30.7</span>, <span class="fl">28.1</span>, <span class="fl">32.7</span>, <span class="fl">23.1</span>, <span class="fl">30.9</span>,</span>
<span>    <span class="fl">27.3</span>, <span class="fl">32.9</span>, <span class="fl">26.2</span>, <span class="fl">26.7</span>, <span class="fl">15</span>, <span class="fl">23.7</span>, <span class="fl">14.9</span>, <span class="fl">25.3</span>, <span class="fl">13.5</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">failed_to_vote</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">year</span></span></code></pre></div>
<p>From 1990-2020, the mean percent of failure to vote:</p>
<div class="sourceCode" id="cb88"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">failed_to_vote</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] 26.975</code></pre>
<p>Let’s say that if a year has a percent &gt; 25%, then let’s define that as “poor turnout”, if a year has &lt; 25% of failure to vote, then that will be defined as “decent turnout”</p>
<p>We will define a function for this</p>
<div class="sourceCode" id="cb90"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#'</span></span>
<span><span class="co">#' determine if year has 'poor voter turnout' or 'decent voter turnout'</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' @param percent numeric percent of failure to vote </span></span>
<span><span class="co">#' </span></span>
<span><span class="co">#' @return string of either 'poor' or 'decent'</span></span>
<span><span class="va">determine_outcome</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">percent</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">outcome</span> <span class="op">&lt;-</span> <span class="st">""</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="va">percent</span> <span class="op">&gt;=</span> <span class="fl">25</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="va">outcome</span> <span class="op">&lt;-</span> <span class="st">"poor"</span></span>
<span>    <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>        <span class="va">outcome</span> <span class="op">&lt;-</span> <span class="st">"decent"</span></span>
<span>    <span class="op">}</span></span>
<span>    <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="va">outcome</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>Test the function with any value - 4 should return “decent” and 25 should return “poor”.</p>
<div class="sourceCode" id="cb91"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="fu">determine_outcome</span><span class="op">(</span><span class="fl">4</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] "decent"</code></pre>
<div class="sourceCode" id="cb93"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="fu">determine_outcome</span><span class="op">(</span><span class="fl">25</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] "poor"</code></pre>
<p>Now, let’s define a For-Loop to use this function over the elements in <code>failed_to_vote</code> vector.</p>
<div class="sourceCode" id="cb95"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># option 1 for a for loop</span></span>
<span><span class="co">#' this loop iterates over each element in the failed_to_vote vector</span></span>
<span><span class="co">#' we give it an arbitrary name (percent) which represents a single element</span></span>
<span><span class="co">#' of this data vector at a point in our loop</span></span>
<span><span class="kw">for</span> <span class="op">(</span><span class="va">percent</span> <span class="kw">in</span> <span class="va">failed_to_vote</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">percent</span><span class="op">)</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="fu">determine_outcome</span><span class="op">(</span><span class="va">percent</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<pre><code>## [1] 47.4
## [1] "poor"
## [1] 33.2
## [1] "poor"
## [1] 30.7
## [1] "poor"
## [1] 28.1
## [1] "poor"
## [1] 32.7
## [1] "poor"
## [1] 23.1
## [1] "decent"
## [1] 30.9
## [1] "poor"
## [1] 27.3
## [1] "poor"
## [1] 32.9
## [1] "poor"
## [1] 26.2
## [1] "poor"
## [1] 26.7
## [1] "poor"
## [1] 15
## [1] "decent"
## [1] 23.7
## [1] "decent"
## [1] 14.9
## [1] "decent"
## [1] 25.3
## [1] "poor"
## [1] 13.5
## [1] "decent"</code></pre>
<div class="sourceCode" id="cb97"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># option 2 - index with value</span></span>
<span><span class="co">#' this for loop iterates throught the failed_to_vote vector by specifying their</span></span>
<span><span class="co">#' numeric index. it defines the condition from i in 1:16 (which is the length of the vector)</span></span>
<span><span class="co">#' and for each iteration of the loop, i gets replaced by 1, then by 2, then by 3.. until 16</span></span>
<span><span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">failed_to_vote</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">failed_to_vote</span><span class="op">[</span><span class="va">i</span><span class="op">]</span><span class="op">)</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="fu">determine_outcome</span><span class="op">(</span><span class="va">failed_to_vote</span><span class="op">[</span><span class="va">i</span><span class="op">]</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<pre><code>## 2020 
## 47.4 
## [1] "poor"
## 2018 
## 33.2 
## [1] "poor"
## 2016 
## 30.7 
## [1] "poor"
## 2014 
## 28.1 
## [1] "poor"
## 2012 
## 32.7 
## [1] "poor"
## 2010 
## 23.1 
## [1] "decent"
## 2008 
## 30.9 
## [1] "poor"
## 2006 
## 27.3 
## [1] "poor"
## 2004 
## 32.9 
## [1] "poor"
## 2002 
## 26.2 
## [1] "poor"
## 2000 
## 26.7 
## [1] "poor"
## 1998 
##   15 
## [1] "decent"
## 1996 
## 23.7 
## [1] "decent"
## 1994 
## 14.9 
## [1] "decent"
## 1992 
## 25.3 
## [1] "poor"
## 1990 
## 13.5 
## [1] "decent"</code></pre>
<div class="sourceCode" id="cb99"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># save these outcomes</span></span>
<span><span class="co">#' we follow the first option of the for loop, but initialize an outcome variable to store</span></span>
<span><span class="co">#' the value returned by `determine_outcome` into another vector. This variable is</span></span>
<span><span class="co">#' initialized outside of the loop to retain its state or value as the loop runs.</span></span>
<span><span class="va">outcome</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="kw">for</span> <span class="op">(</span><span class="va">percent</span> <span class="kw">in</span> <span class="va">failed_to_vote</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">outcome</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/append.html">append</a></span><span class="op">(</span><span class="va">outcome</span>, <span class="fu">determine_outcome</span><span class="op">(</span><span class="va">percent</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
</div>
<div id="lists-vs-vectors" class="section level2" number="2.1">
<h2>
<span class="header-section-number">2.1</span> Lists vs Vectors<a class="anchor" aria-label="anchor" href="#lists-vs-vectors"><i class="fas fa-link"></i></a>
</h2>
<p>A <em>vector</em> is a one dimensional array of elements. Almost all data in R is stored in a vector. A <em>list</em> is a <em>recursive vector,</em> meaning a list can contain vectors that contain vectors or other lists. Lists can contain lists of vectors or lists of data.frames.</p>
<div id="apply-lapply-family" class="section level3" number="2.1.1">
<h3>
<span class="header-section-number">2.1.1</span> apply(), lapply() family<a class="anchor" aria-label="anchor" href="#apply-lapply-family"><i class="fas fa-link"></i></a>
</h3>
<p>The best way to loop through the vector and categorize each outcome is with an implicit loop. <code>lapply</code> takes in a vector, a list, or a Dataframe as input and always returns a list. The specified function is applied to each element of the input object.</p>
<div class="sourceCode" id="cb100"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">outcomes</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html">lapply</a></span><span class="op">(</span><span class="va">failed_to_vote</span>, <span class="va">determine_outcome</span><span class="op">)</span></span>
<span><span class="co"># since the output is always a list we can break it up back</span></span>
<span><span class="co"># into a vector</span></span>
<span><span class="va">outcomes</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/unlist.html">unlist</a></span><span class="op">(</span><span class="va">outcomes</span><span class="op">)</span></span></code></pre></div>
<p>From the same table, let’s grab the total percent voted column.</p>
<div class="sourceCode" id="cb101"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">total_voted</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">52.6</span>, <span class="fl">66.8</span>, <span class="fl">69.3</span>, <span class="fl">71.9</span>, <span class="fl">67.3</span>, <span class="fl">76.9</span>, <span class="fl">69.1</span>, <span class="fl">72.7</span>,</span>
<span>    <span class="fl">67.1</span>, <span class="fl">73.8</span>, <span class="fl">73.3</span>, <span class="fl">85</span>, <span class="fl">76.3</span>, <span class="fl">85.1</span>, <span class="fl">74.7</span>, <span class="fl">86.5</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">total_voted</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">year</span></span></code></pre></div>
<p>We can add both the <code>total_voted</code> and <code>failed_to_vote</code> vector to a list with the <code>list</code> function.</p>
<div class="sourceCode" id="cb102"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">vote_percent</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="va">total_voted</span>, <span class="va">failed_to_vote</span><span class="op">)</span></span></code></pre></div>
<p>Use functions to apply to each vector:</p>
<div class="sourceCode" id="cb103"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html">lapply</a></span><span class="op">(</span><span class="va">vote_percent</span>, <span class="va">mean</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [[1]]
## [1] 73.025
## 
## [[2]]
## [1] 26.975</code></pre>
<div class="sourceCode" id="cb105"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html">lapply</a></span><span class="op">(</span><span class="va">vote_percent</span>, <span class="va">summary</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [[1]]
##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##   52.60   68.65   73.00   73.03   76.45   86.50 
## 
## [[2]]
##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##   13.50   23.55   27.00   26.98   31.35   47.40</code></pre>
<p>If you try using, <code>lapply</code>() with the function <code>determine_outcome</code>, you will result in an error due to the set-up of the function. The error appears since <code>determine_outcome</code> expects a single numeric value as input, but we are passing a vector of values into an if statement. In addition, An <strong>if()</strong> statement can only check one element in a vector at one time, but using this code we attempted to check every element in the vector at once.</p>
<div class="sourceCode" id="cb107"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># let's fix this by re-defining the function</span></span>
<span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' determine if value indicates 'poor turnout' (&gt;=25) or 'decent turnout' (&lt;25)</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' @param percent numeric value that indicates percent of failure to vote</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' @return string of either poor or decent</span></span>
<span><span class="va">determine_outcome</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">percent</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span><span class="op">(</span><span class="va">percent</span> <span class="op">&gt;=</span> <span class="fl">25</span>, <span class="st">"poor"</span>, <span class="st">"decent"</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>The <code>ifelse</code> function allows you to perform element-wise conditions on vectors or data frames. (This allows vectors while the traditional if..else does not).</p>
<p>In our <code>failed_to_vote</code> vector, how many times do we have poor outcomes and how many times do we have decent outcomes?</p>
<div class="sourceCode" id="cb108"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># define a loop to count this count how many times decent</span></span>
<span><span class="co"># or poor appear</span></span>
<span></span>
<span><span class="co"># again, we initialize variables to store our count OUTSIDE</span></span>
<span><span class="co"># of the for loop to retain their value while the loop is</span></span>
<span><span class="co"># running</span></span>
<span><span class="va">decent_val</span> <span class="op">&lt;-</span> <span class="fl">0</span></span>
<span><span class="va">poor_val</span> <span class="op">&lt;-</span> <span class="fl">0</span></span>
<span></span>
<span><span class="kw">for</span> <span class="op">(</span><span class="va">percent</span> <span class="kw">in</span> <span class="va">failed_to_vote</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="fu">determine_outcome</span><span class="op">(</span><span class="va">percent</span><span class="op">)</span> <span class="op">==</span> <span class="st">"poor"</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="va">poor_val</span> <span class="op">&lt;-</span> <span class="va">poor_val</span> <span class="op">+</span> <span class="fl">1</span></span>
<span>    <span class="op">}</span> <span class="kw">else</span> <span class="kw">if</span> <span class="op">(</span><span class="fu">determine_outcome</span><span class="op">(</span><span class="va">percent</span><span class="op">)</span> <span class="op">==</span> <span class="st">"decent"</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="va">decent_val</span> <span class="op">&lt;-</span> <span class="va">decent_val</span> <span class="op">+</span> <span class="fl">1</span></span>
<span>    <span class="op">}</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>Above is a very crude example, and for this specified purpose, I would just use:</p>
<div class="sourceCode" id="cb109"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="va">outcomes</span><span class="op">)</span></span></code></pre></div>
<pre><code>## outcomes
## decent   poor 
##      5     11</code></pre>
<p>However, this is a basic example demonstrating how to use a for-loop to increment variables.</p>

</div>
</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="r-basics-and-fundamentals.html"><span class="header-section-number">1</span> R Basics and Fundamentals</a></div>
<div class="next"><a href="introduction-to-dataframes-ggplot2.html"><span class="header-section-number">3</span> Introduction to Dataframes &amp; ggplot2</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li>
<a class="nav-link" href="#conditionals-loops-and-functions"><span class="header-section-number">2</span> Conditionals, Loops, and Functions</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#if-else-statement"><span class="header-section-number">2.0.1</span> If-else statement</a></li>
<li><a class="nav-link" href="#defining-a-function"><span class="header-section-number">2.0.2</span> Defining a Function</a></li>
<li><a class="nav-link" href="#recursive-function"><span class="header-section-number">2.0.3</span> Recursive Function</a></li>
<li><a class="nav-link" href="#creating-a-for-loop"><span class="header-section-number">2.0.4</span> Creating a for loop</a></li>
<li><a class="nav-link" href="#case-study"><span class="header-section-number">2.0.5</span> Case Study</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#lists-vs-vectors"><span class="header-section-number">2.1</span> Lists vs Vectors</a><ul class="nav navbar-nav"><li><a class="nav-link" href="#apply-lapply-family"><span class="header-section-number">2.1.1</span> apply(), lapply() family</a></li></ul>
</li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
          
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->



<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
